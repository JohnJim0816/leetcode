#### [215. 数组中的第K个最大元素](https://leetcode-cn.com/problems/kth-largest-element-in-an-array/)

在未排序的数组中找到第 **k** 个最大的元素。请注意，你需要找的是数组排序后的第 k 个最大的元素，而不是第 k 个不同的元素。

**示例 1:**

```
输入: [3,2,1,5,6,4] 和 k = 2
输出: 5
```

**示例 2:**

```
输入: [3,2,3,1,2,4,5,5,6] 和 k = 4
输出: 4
```

**说明:**

你可以假设 k 总是有效的，且 1 ≤ k ≤ 数组的长度。



基于快速排序的选择方法，时间$O(n)$，空间$O(1)$

```python
class Solution:
   	
    def findKthLargest(self, nums: List[int], k: int) -> int:
        target = len(nums) - k
        low = 0
        high = len(nums) - 1
        while True:
            index = self.partition(nums, low, high)
            if index == target:
                return nums[index]
            elif index < target:
                # 下一轮在 [index + 1, right] 里找
                low = index + 1
            else:
                high = index - 1
    def partition(self,nums,low,high):
        i = low-1
        pivot = nums[high]
        for j in range(low , high): 
            # 当前元素小于或等于 pivot 
            if  nums[j] <= pivot: 
                i = i+1 
                nums[i],nums[j] = nums[j],nums[i] 
        nums[i+1],nums[high] = nums[high],nums[i+1] 
        return i+1 

# 作者：liweiwei1419
# 链接：https://leetcode-cn.com/problems/kth-largest-element-in-an-array/solution/partitionfen-er-zhi-zhi-you-xian-dui-lie-java-dai-/
# 来源：力扣（LeetCode）
# 著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。
```

